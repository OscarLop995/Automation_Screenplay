serenity {
  project.name = "Automation Screenplay Project"
  take.screenshots = FOR_EACH_ACTION
  restart.browser.for.each = scenario
}

environments {

  local {

    webdriver {
      driver = chrome
    }

    capabilities {
      browserName = "chrome"

      "goog:chromeOptions" {
        args = [
          "start-maximized",
          "--remote-allow-origins=*",
          "--no-sandbox",
          "--disable-dev-shm-usage",
          "--disable-gpu",
          "--disable-web-security"
        ]
      }
    }
  }

  browserstack {

    webdriver {
      driver = remote

      remote {
        url = "https://${BROWSERSTACK_USERNAME}:${BROWSERSTACK_ACCESS_KEY}@hub.browserstack.com/wd/hub"
      }
    }

    capabilities {
      browserName = "Chrome"
      browserVersion = "latest"

      "bstack:options" {
        os = "Windows"
        osVersion = "11"
        projectName = "Contact Us Automation"
        buildName = "Build #${build.number}"
        sessionName = "Contact form test"
      }
    }
  }
}
